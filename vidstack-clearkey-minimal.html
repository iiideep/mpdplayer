<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>æœ€ç®€å•çš„ Vidstack ClearKey ç¤ºä¾‹</title>
    <link rel="stylesheet" href="https://cdn.vidstack.io/player/theme.css">
    <link rel="stylesheet" href="https://cdn.vidstack.io/player/video.css">
    <style>
        body { margin: 0; background: #000; }
        #player { width: 100vw; height: 100vh; }
    </style>
</head>
<body>
    <div id="player"></div>
    
    <script type="module">
        import { VidstackPlayer, VidstackPlayerLayout } from 'https://cdn.vidstack.io/player.core';
        
        // æœ€ç®€å•çš„é…ç½®
        const player = await VidstackPlayer.create({
            target: '#player',
            src: 'https://qp-pldt-live-grp-05-prod.akamaized.net/out/u/cg_spotvhd.mpd',
            viewType: 'video',
            streamType: 'live',
            layout: new VidstackPlayerLayout(),
            
            // ClearKey DRM é…ç½®
            drm: {
                clearkey: {
                    keys: {
                        "ec7ee27d83764e4b845c48cca31c8eef": "9c0e4191203fccb0fde34ee29999129e"
                    }
                }
            },
            
            muted: true,
            autoPlay: false
        });
        
        // åŸºæœ¬äº‹ä»¶ç›‘å¬
        player.addEventListener('canplay', () => {
            console.log('âœ… å¯ä»¥æ’­æ”¾');
            player.play();
        });
        
        player.addEventListener('error', (e) => {
            console.error('âŒ æ’­æ”¾é”™è¯¯:', e.detail);
        });
        
        player.addEventListener('encrypted', () => {
            console.log('ğŸ”’ æ£€æµ‹åˆ°åŠ å¯†åª’ä½“');
        });
        
        console.log('ğŸ¬ æ’­æ”¾å™¨å·²åˆå§‹åŒ–');
    </script>
</body>
</html>